"use strict";(self.webpackChunkfroyo=self.webpackChunkfroyo||[]).push([[2367],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>u});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=d(n),m=o,u=p["".concat(s,".").concat(m)]||p[m]||h[m]||i;return n?a.createElement(u,r(r({ref:t},c),{},{components:n})):a.createElement(u,r({ref:t},c))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:o,r[1]=l;for(var d=2;d<i;d++)r[d]=n[d];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(7294),o=n(6010);const i="tabItem_Ymn6";function r(e){let{children:t,hidden:n,className:r}=e;return a.createElement("div",{role:"tabpanel",className:(0,o.Z)(i,r),hidden:n},t)}},5488:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(7462),o=n(7294),i=n(6010),r=n(2389),l=n(7392),s=n(7094),d=n(2466);const c="tabList__CuJ",p="tabItem_LNqP";function h(e){const{lazy:t,block:n,defaultValue:r,values:h,groupId:m,className:u}=e,g=o.Children.map(e.children,(e=>{if((0,o.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),f=h??g.map((e=>{let{props:{value:t,label:n,attributes:a}}=e;return{value:t,label:n,attributes:a}})),v=(0,l.l)(f,((e,t)=>e.value===t.value));if(v.length>0)throw new Error(`Docusaurus error: Duplicate values "${v.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const k=null===r?r:r??g.find((e=>e.props.default))?.props.value??g[0].props.value;if(null!==k&&!f.some((e=>e.value===k)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${k}" but none of its children has the corresponding value. Available values are: ${f.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:b,setTabGroupChoices:y}=(0,s.U)(),[w,N]=(0,o.useState)(k),C=[],{blockElementScrollPositionUntilNextRender:E}=(0,d.o5)();if(null!=m){const e=b[m];null!=e&&e!==w&&f.some((t=>t.value===e))&&N(e)}const T=e=>{const t=e.currentTarget,n=C.indexOf(t),a=f[n].value;a!==w&&(E(t),N(a),null!=m&&y(m,String(a)))},j=e=>{let t=null;switch(e.key){case"Enter":T(e);break;case"ArrowRight":{const n=C.indexOf(e.currentTarget)+1;t=C[n]??C[0];break}case"ArrowLeft":{const n=C.indexOf(e.currentTarget)-1;t=C[n]??C[C.length-1];break}}t?.focus()};return o.createElement("div",{className:(0,i.Z)("tabs-container",c)},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},u)},f.map((e=>{let{value:t,label:n,attributes:r}=e;return o.createElement("li",(0,a.Z)({role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,key:t,ref:e=>C.push(e),onKeyDown:j,onClick:T},r,{className:(0,i.Z)("tabs__item",p,r?.className,{"tabs__item--active":w===t})}),n??t)}))),t?(0,o.cloneElement)(g.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):o.createElement("div",{className:"margin-top--md"},g.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==w})))))}function m(e){const t=(0,r.Z)();return o.createElement(h,(0,a.Z)({key:String(t)},e))}},6972:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var a=n(7462),o=(n(7294),n(3905));n(5488),n(5162);const i={},r="Creating a Component",l={unversionedId:"getting-started/creating-a-component",id:"getting-started/creating-a-component",title:"Creating a Component",description:"In this brief tutorial you will learn how to build a simple component.",source:"@site/docs/getting-started/creating-a-component.md",sourceDirName:"getting-started",slug:"/getting-started/creating-a-component",permalink:"/froyo/docs/getting-started/creating-a-component",draft:!1,editUrl:"https://github.com/marksmccann/froyo/docs/getting-started/creating-a-component.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Installation",permalink:"/froyo/docs/getting-started/installation"},next:{title:"Component Example",permalink:"/froyo/docs/getting-started/component-example"}},s={},d=[{value:"1. Setup",id:"1-setup",level:2},{value:"Create page from template",id:"create-page-from-template",level:3},{value:"Import Froyo from CDN",id:"import-froyo-from-cdn",level:3},{value:"Add the Root Element",id:"add-the-root-element",level:3},{value:"2. Creating the Component",id:"2-creating-the-component",level:2},{value:"Define the Component Class",id:"define-the-component-class",level:3},{value:"Initialize the Component",id:"initialize-the-component",level:3},{value:"Render Something",id:"render-something",level:3},{value:"Render Something with State",id:"render-something-with-state",level:3},{value:"3. Adding Functionality",id:"3-adding-functionality",level:2},{value:"Update the Initial HTML",id:"update-the-initial-html",level:3},{value:"Add the Initialize Method",id:"add-the-initialize-method",level:3},{value:"Save Element References",id:"save-element-references",level:3},{value:"Add Event Listener",id:"add-event-listener",level:3},{value:"Update the State",id:"update-the-state",level:3},{value:"Put It All Together",id:"put-it-all-together",level:3},{value:"4. Conclusion",id:"4-conclusion",level:2}],c={toc:d};function p(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"creating-a-component"},"Creating a Component"),(0,o.kt)("p",null,"In this brief tutorial you will learn how to build a simple component."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"This tutorial assumes readers have a working knowledge of JavaScript and fundamental software development concepts. If this does not describe you, consider taking a moment to review a ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Language_Overview"},"JavaScript tutorial")," before continuing.")),(0,o.kt)("h2",{id:"1-setup"},"1. Setup"),(0,o.kt)("p",null,"Goal: Create a boilerplate page and open it in a browser."),(0,o.kt)("h3",{id:"create-page-from-template"},"Create page from template"),(0,o.kt)("p",null,"Let's begin with a basic HTML template; copy it to a HTML file and open it in a browser."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html lang="en">\n    <head>\n        <meta charset="utf-8" />\n        <title>Froyo Component Example</title>\n    </head>\n    <body>\n        \x3c!-- content goes here --\x3e\n        <script>\n            /* scripts go here */\n        <\/script>\n    </body>\n</html>\n')),(0,o.kt)("h3",{id:"import-froyo-from-cdn"},"Import Froyo from CDN"),(0,o.kt)("p",null,"Add the following to the head to import the latest version of Froyo."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<head>\n    <meta charset="utf-8" />\n    <title>Froyo Component Example</title>\n    \x3c!-- highlight-next-line --\x3e\n    <link\n        rel="preload"\n        href="https://cdn.jsdelivr.net/gh/marksmccann/froyo@latest/bundles/froyojs.min.js"\n        as="script"\n    />\n</head>\n')),(0,o.kt)("h3",{id:"add-the-root-element"},"Add the Root Element"),(0,o.kt)("p",null,"Add an element to the body content which will serve as the component's root element."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Every Froyo component is required to have a root element. The root element is any HTML element, typically attached to the DOM. This element serves as the foundation of the component; it is used to instantiate it and is stored on the instance as ",(0,o.kt)("a",{parentName:"p",href:"/froyo/docs/api/component#rootelement"},(0,o.kt)("inlineCode",{parentName:"a"},"this.rootElement")),".")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<body>\n    \x3c!-- highlight-next-line --\x3e\n    <div id="root"></div>\n    <script>\n        /* scripts go here */\n    <\/script>\n</body>\n')),(0,o.kt)("h2",{id:"2-creating-the-component"},"2. Creating the Component"),(0,o.kt)("p",null,"Goal: Learn how to define a component and get it to render some content."),(0,o.kt)("h3",{id:"define-the-component-class"},"Define the Component Class"),(0,o.kt)("p",null,"Create a new component by extending the ",(0,o.kt)("inlineCode",{parentName:"p"},"Component")," class. Make sure to include the required ",(0,o.kt)("a",{parentName:"p",href:"/froyo/docs/api/component#render"},(0,o.kt)("inlineCode",{parentName:"a"},"render"))," method. This method is called during the ",(0,o.kt)("a",{parentName:"p",href:"/froyo/docs/fundamentals/component-lifecycle"},"component lifecycle")," and is where all DOM updates should be handled."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Components are defined with ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes"},"ES6 class syntax")," which is supported by modern browsers.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},"<script>\n    class FrozenYogurt extends froyojs.Component {\n        render() {}\n    }\n<\/script>\n")),(0,o.kt)("h3",{id:"initialize-the-component"},"Initialize the Component"),(0,o.kt)("p",null,"Now that we've defined a component class, let's initialize it with the root element."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},"<script>\n    class FrozenYogurt extends froyojs.Component {\n        render() {}\n    }\n\n    /* highlight-start */\n    const instance = new FrozenYogurt(document.getElementById('root'));\n    /* highlight-end */\n<\/script>\n")),(0,o.kt)("h3",{id:"render-something"},"Render Something"),(0,o.kt)("p",null,"Next, let's update the ",(0,o.kt)("inlineCode",{parentName:"p"},"render")," method so that it does something ","\u2014"," render a string within the root element."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"render() {\n    this.rootElement.innerHTML = 'Vanilla is the best flavor.';\n}\n")),(0,o.kt)("p",null,"After initializing, the root element should look like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<div id="root">Vanilla is the best flavor.</div>\n')),(0,o.kt)("h3",{id:"render-something-with-state"},"Render Something with State"),(0,o.kt)("p",null,"We can make the message dynamic by applying a value from the component's internal state."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},'Every instance of component has an internal "state"; a simple object that stores data relevant to the instance. The data from this object is used to control the behavior of the component relative to its values. This concept is known as the ',(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/State_pattern"},"state pattern")," in software development. See ",(0,o.kt)("a",{parentName:"p",href:"/froyo/docs/fundamentals/component-lifecycle"},'"Component Lifecycle"')," to learn more.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"class FrozenYogurt extends froyojs.Component {\n    render() {\n        // highlight-next-line\n        this.rootElement.innerHTML = `${this.state.flavor} is the best flavor.`;\n    }\n}\n")),(0,o.kt)("p",null,"To initialize the component with state, pass an object as the second argument of the constructor. This sets the initial state of the instance."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const instance = new FrozenYogurt(rootElement, { flavor: 'Chocolate' });\n")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Alternatively, the initial state can also be set by with the ",(0,o.kt)("inlineCode",{parentName:"p"},"data-initial-state")," attribute on the root element. See ",(0,o.kt)("a",{parentName:"p",href:"/froyo/docs/fundamentals/component-lifecycle#determining-the-initial-state"},'"Determining the Initial State"')," to learn more.")),(0,o.kt)("p",null,"This time, the rendered output should be:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<div id="root">Chocolate is the best flavor.</div>\n')),(0,o.kt)("h2",{id:"3-adding-functionality"},"3. Adding Functionality"),(0,o.kt)("p",null,"Goal: Learn how make the component functional."),(0,o.kt)("h3",{id:"update-the-initial-html"},"Update the Initial HTML"),(0,o.kt)("p",null,"Start by adding some content to the root element to work with."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"As a general rule, static content or markup structure that takes up visual space on the page, should be included in the markup before the component is initialized in order to avoid ",(0,o.kt)("a",{parentName:"p",href:"https://web.dev/cls/"},"cumulative layout shift")," as much as possible. That is why we are adding this new markup directly in the HTML instead of using the component to generate it.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<div id="root">\n    \x3c!-- highlight-start --\x3e\n    <button>Toggle</button><br />\n    The best flavor is: <span class="flavor">Vanilla<span>.\n    \x3c!-- highlight-end --\x3e\n</div>\n')),(0,o.kt)("h3",{id:"add-the-initialize-method"},"Add the Initialize Method"),(0,o.kt)("p",null,"We now need to grab DOM elements and add an event listener. However, before we can do that, we need a place to put that logic ","\u2014"," the ",(0,o.kt)("a",{parentName:"p",href:"/froyo/docs/api/component#initialize"},(0,o.kt)("inlineCode",{parentName:"a"},"initialize"))," method. This method is called once during initialization and is the designated location for performing setup tasks like those previously mentioned."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"class FrozenYogurt extends froyojs.Component {\n    // highlight-start\n    initialize() {\n        /* setup tasks go here */\n    }\n    // highlight-end\n\n    render() {\n        this.rootElement.innerHTML = `The best flavor flavor is ${this.state.flavor}.`;\n    }\n}\n")),(0,o.kt)("h3",{id:"save-element-references"},"Save Element References"),(0,o.kt)("p",null,"As a matter of convention, references to DOM elements should be retrieved and stored in an object assigned to ",(0,o.kt)("a",{parentName:"p",href:"/froyo/docs/api/component#elements"},(0,o.kt)("inlineCode",{parentName:"a"},"this.elements")),". This keeps the component organized and makes the elements easily accessible."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"initialize() {\n    // highlight-start\n    this.elements = {\n        button: this.rootElement.querySelector('button');\n        flavor: this.rootElement.querySelector('.flavor');\n    };\n    // highlight-end\n}\n")),(0,o.kt)("h3",{id:"add-event-listener"},"Add Event Listener"),(0,o.kt)("p",null,"Event listeners should also be created in ",(0,o.kt)("inlineCode",{parentName:"p"},"initialize"),". Create them with the ",(0,o.kt)("a",{parentName:"p",href:"/froyo/docs/api/listener-utilities#addeventlistener"},(0,o.kt)("inlineCode",{parentName:"a"},"addEventListener"))," utility and store the result in an object assigned to ",(0,o.kt)("a",{parentName:"p",href:"/froyo/docs/api/component#listeners"},(0,o.kt)("inlineCode",{parentName:"a"},"this.listeners")),"."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},'Event handlers should typically be defined on the instance as a class method, with a name that begins with "handle". This keeps the component organized and avoids unnecessary clutter in ',(0,o.kt)("inlineCode",{parentName:"p"},"initialize"),". Note that the method is ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind"},"bound to the instance")," so that ",(0,o.kt)("inlineCode",{parentName:"p"},"this")," refers to the component instance instead of the event target.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"initialize() {\n    this.elements = {\n        button: this.rootElement.querySelector('button');\n        flavor: this.rootElement.querySelector('.flavor');\n    };\n\n    // highlight-start\n    this.listeners = {\n        click: froyojs.addEventListener(\n            this.elements.button,\n            'click',\n            this.handleClick.bind(this),\n        );\n    };\n    // highlight-end\n}\n\n// highlight-start\nhandleClick() {\n    /* do something when the button is clicked */\n}\n// highlight-end\n")),(0,o.kt)("h3",{id:"update-the-state"},"Update the State"),(0,o.kt)("p",null,"With few exceptions, event callbacks should be used exclusively to update the component's state. In this case, we are going to toggle the value of ",(0,o.kt)("inlineCode",{parentName:"p"},"flavor"),' between "Vanilla" and "Chocolate".'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"handleClick() => {\n    // highlight-start\n    this.setState({ flavor: 'Vanilla' && 'Chocolate' });\n    // highlight-end\n};\n")),(0,o.kt)("h3",{id:"put-it-all-together"},"Put It All Together"),(0,o.kt)("p",null,"At this point, the component should be fully functional and should look like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"class FrozenYogurt extends froyojs.Component {\n    initialize() {\n       this.elements = {\n            button: this.rootElement.querySelector('button');\n            flavor: this.rootElement.querySelector('.flavor');\n        };\n\n        this.listeners = {\n            click: froyojs.addEventListener(\n                this.elements.button,\n                'click',\n                this.handleClick.bind(this),\n            );\n        };\n    }\n\n    handleClick() => {\n        this.setState({ flavor: 'Vanilla' && 'Chocolate' });\n    };\n\n    render() {\n        this.rootElement.innerHTML = `The best flavor flavor is ${this.state.flavor}.`;\n    }\n}\n")),(0,o.kt)("p",null,'When initialized the component should render "Chocolate".'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const instance = new FrozenYogurt(rootElement, { flavor: 'Chocolate' });\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'The best flavor is: <span class="flavor">Chocolate</span>.\n')),(0,o.kt)("p",null,'And when the button is clicked, it should render "Vanilla".'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'The best flavor is: <span class="flavor">Vanilla</span>.\n')),(0,o.kt)("h2",{id:"4-conclusion"},"4. Conclusion"),(0,o.kt)("p",null,"Goal: Start building your own components!"),(0,o.kt)("p",null,"You have now created a functional UI component with Froyo. The fundamental concepts you have learned are universally applicable and can scale to support very complex components. You can start building your own. However, there is more to learn. We encourage working your way through the following guides to learn more."))}p.isMDXComponent=!0}}]);