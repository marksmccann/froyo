"use strict";(self.webpackChunkfroyo=self.webpackChunkfroyo||[]).push([[5423],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),m=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=m(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=m(n),u=o,f=c["".concat(s,".").concat(u)]||c[u]||d[u]||a;return n?r.createElement(f,l(l({ref:t},p),{},{components:n})):r.createElement(f,l({ref:t},p))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,l=new Array(a);l[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:o,l[1]=i;for(var m=2;m<a;m++)l[m]=n[m];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},6269:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>a,metadata:()=>i,toc:()=>m});var r=n(7462),o=(n(7294),n(3905));const a={},l="DOM Management",i={unversionedId:"fundamentals/dom-management",id:"fundamentals/dom-management",title:"DOM Management",description:"This guide explains how to manage references to, and the manipulation of, the DOM.",source:"@site/docs/fundamentals/dom-management.md",sourceDirName:"fundamentals",slug:"/fundamentals/dom-management",permalink:"/froyo/docs/fundamentals/dom-management",draft:!1,editUrl:"https://github.com/marksmccann/froyo/docs/fundamentals/dom-management.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Component Lifecycle",permalink:"/froyo/docs/fundamentals/component-lifecycle"},next:{title:"Creating Listeners",permalink:"/froyo/docs/fundamentals/creating-listeners"}},s={},m=[{value:"Selecting Elements",id:"selecting-elements",level:2},{value:"Creating Elements",id:"creating-elements",level:2},{value:"Setting Attributes",id:"setting-attributes",level:2}],p={toc:m};function c(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"dom-management"},"DOM Management"),(0,o.kt)("p",null,"This guide explains how to manage references to, and the manipulation of, the DOM."),(0,o.kt)("h2",{id:"selecting-elements"},"Selecting Elements"),(0,o.kt)("p",null,"Use conventional JavaScript DOM selectors like ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/Element/querySelector"},(0,o.kt)("inlineCode",{parentName:"a"},"Element.querySelector"))," and ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/Element/querySelectorAll"},(0,o.kt)("inlineCode",{parentName:"a"},"Element.querySelectorAll"))," to retrieve elements from the DOM. Assign the results of these selectors to ",(0,o.kt)("a",{parentName:"p",href:"/froyo/docs/api/component#elements"},(0,o.kt)("inlineCode",{parentName:"a"},"this.elements"))," from within the ",(0,o.kt)("inlineCode",{parentName:"p"},"setup")," method so they can be referenced from elsewhere in the class."),(0,o.kt)("p",null,"Only valid instances of DOM nodes and lists (e.g. ",(0,o.kt)("inlineCode",{parentName:"p"},"Element"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"NodeList"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"TextNode"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"HTMLCollection"),", etc.) or ",(0,o.kt)("inlineCode",{parentName:"p"},"null")," can be applied to this property. If any other value is assigned, it will be ignored and an error will log to the console. Node lists like ",(0,o.kt)("inlineCode",{parentName:"p"},"NodeList")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"HTMLCollection")," are automatically converted to a traditional ",(0,o.kt)("inlineCode",{parentName:"p"},"Array"),"."),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Use the ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/CSS/:scope"},(0,o.kt)("inlineCode",{parentName:"a"},":scope"))," pseudo class for more precise element selection (e.g. ",(0,o.kt)("inlineCode",{parentName:"p"},"querySelector(':scope > .first-child')"),". This is useful when a selector could potentially grab elements belonging to other components nested deeper within the markup structure.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { Component } from 'froyojs';\n\nclass FrozenYogurt extends Component {\n    setup() {\n        this.elements = {\n            someElement: this.rootElement.querySelector('<some selector>'),\n            someElements: this.rootElement.querySelectorAll('<some selector>'),\n        };\n    }\n}\n")),(0,o.kt)("p",null,"Properties on this object cannot be set directly. Any attempt to do so will be ignored."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// this will not work\nthis.elements.someElement = null;\n")),(0,o.kt)("p",null,"Instead, a new object must be assigned directly to the property in order to add or change its values. All valid entries on this object are then assigned to the property, while the remainder are ignored. Removing a property or setting it to ",(0,o.kt)("inlineCode",{parentName:"p"},"undefined")," is not supported."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'// sets this.elements.someElement to "null"\nthis.elements = { someElement: null };\n')),(0,o.kt)("br",null),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"creating-elements"},"Creating Elements"),(0,o.kt)("p",null,"For convenience, use the utility function ",(0,o.kt)("a",{parentName:"p",href:"/froyo/docs/api/dom-utilities#createelement"},(0,o.kt)("inlineCode",{parentName:"a"},"createElement"))," to generate elements with attributes and content. Assign these elements to ",(0,o.kt)("a",{parentName:"p",href:"/froyo/docs/api/component#elements"},(0,o.kt)("inlineCode",{parentName:"a"},"this.elements"))," from within the ",(0,o.kt)("inlineCode",{parentName:"p"},"setup")," method so they can be referenced from elsewhere in the class."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { Component, createElement } from 'froyojs';\n\nclass FrozenYogurt extends Component {\n    setup() {\n        this.elements = {\n            someElement: createElement(\n                'div',\n                { class: '<some class>' },\n                '<some content>'\n            ),\n        };\n    }\n}\n")),(0,o.kt)("br",null),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"setting-attributes"},"Setting Attributes"),(0,o.kt)("p",null,"For convenience, use the utility function ",(0,o.kt)("a",{parentName:"p",href:"/froyo/docs/api/dom-utilities#setattributes"},(0,o.kt)("inlineCode",{parentName:"a"},"setAttributes"))," to add, change, or remove attributes from an element at once."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { Component, setAttributes } from 'froyojs';\n\nclass FrozenYogurt extends Component {\n    render() {\n        setAttributes(this.rootElement, {\n            id: '<some-id>',\n            role: undefined, // \"undefined\" is ignored\n            'aria-hidden': null, // \"null\" removes attribute\n        });\n    }\n}\n")))}c.isMDXComponent=!0}}]);