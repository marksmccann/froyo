"use strict";(self.webpackChunkfroyo=self.webpackChunkfroyo||[]).push([[9963],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),s=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=s(e.components);return r.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=s(n),m=o,f=u["".concat(c,".").concat(m)]||u[m]||d[m]||a;return n?r.createElement(f,l(l({ref:t},p),{},{components:n})):r.createElement(f,l({ref:t},p))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,l=new Array(a);l[0]=m;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[u]="string"==typeof e?e:o,l[1]=i;for(var s=2;s<a;s++)l[s]=n[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6888:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>s});var r=n(7462),o=(n(7294),n(3905));const a={},l="External Control",i={unversionedId:"advanced/external-control",id:"advanced/external-control",title:"External Control",description:"This guide explores a technique for controlling a component externally.",source:"@site/docs/advanced/external-control.md",sourceDirName:"advanced",slug:"/advanced/external-control",permalink:"/froyo/docs/advanced/external-control",draft:!1,editUrl:"https://github.com/marksmccann/froyo/docs/advanced/external-control.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Observer Pattern",permalink:"/froyo/docs/advanced/observer-pattern"},next:{title:"Subcomponents",permalink:"/froyo/docs/advanced/subcomponents"}},c={},s=[{value:"Introduction",id:"introduction",level:2},{value:"Enabling External Control",id:"enabling-external-control",level:2},{value:"Taking External Control",id:"taking-external-control",level:2},{value:"Private State Properties",id:"private-state-properties",level:2}],p={toc:s};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"external-control"},"External Control"),(0,o.kt)("p",null,"This guide explores a technique for controlling a component externally."),(0,o.kt)("h2",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,"By default, Froyo components update their own state internally, as they respond to events. However, there are times it may be necessary to hijack this behavior so it can be controlled manually. For example, you may want to perform an asynchronous request before opening a modal."),(0,o.kt)("br",null),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"enabling-external-control"},"Enabling External Control"),(0,o.kt)("p",null,'To enable external control, define an optional state property that expects a function. As a matter of convention, this property should begin with "on". By wrapping ',(0,o.kt)("inlineCode",{parentName:"p"},"this.setState")," in a condition, you can then favor the function over ",(0,o.kt)("inlineCode",{parentName:"p"},"this.setState")," when it exists."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"class Modal extends Component {\n    handleOpenClick() {\n        if (this.props.onOpen) {\n            this.props.onOpen(true);\n        } else {\n            this.setState({ open: true });\n        }\n    }\n}\n")),(0,o.kt)("br",null),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"taking-external-control"},"Taking External Control"),(0,o.kt)("p",null,"To take control of a component, provide the designated function to the state. After doing so, it becomes your responsibility to update the state so it remains functional."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"If you just need to monitor and respond to state changes, the ",(0,o.kt)("a",{parentName:"p",href:"/froyo/docs/advanced/observer-pattern"},'"Observer Pattern"')," is a better solution.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const instance = new Modal(rootElement, {\n    onOpen: (open) => {\n        // do something before updating the state ...\n        instance.setState({ open });\n    },\n});\n")),(0,o.kt)("br",null),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"private-state-properties"},"Private State Properties"),(0,o.kt)("p",null,"In Froyo, the concept of private state does not exist. Every property in state can be read or changed externally. If a particular state property exists for internal component management, and should not be updated externally, make sure to communicate that to the consumer in the API documentation."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"instance.state.someInternalState; // available externally\n")))}u.isMDXComponent=!0}}]);